/*! For license information please see index.js.LICENSE.txt */
!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.Intrx=r():t.Intrx=r()}(self,(function(){return(()=>{"use strict";var t={d:(r,e)=>{for(var n in e)t.o(e,n)&&!t.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:e[n]})},o:(t,r)=>Object.prototype.hasOwnProperty.call(t,r),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},r={};t.r(r),t.d(r,{HttpEventType:()=>S,default:()=>U});var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)};function n(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}function o(t){return"function"==typeof t}var i=!1,s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack,i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function u(t){setTimeout((function(){throw t}),0)}var c={closed:!0,next:function(t){},error:function(t){if(s.useDeprecatedSynchronousErrorHandling)throw t;u(t)},complete:function(){}},a=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function p(t){return null!==t&&"object"==typeof t}var f=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,r){return r+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),l=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var r;if(!this.closed){var e=this,n=e._parentOrParents,i=e._ctorUnsubscribe,s=e._unsubscribe,u=e._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var c=0;c<n.length;++c)n[c].remove(this);if(o(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(t){r=t instanceof f?h(t.errors):[t]}}if(a(u)){c=-1;for(var l=u.length;++c<l;){var y=u[c];if(p(y))try{y.unsubscribe()}catch(t){r=r||[],t instanceof f?r=r.concat(h(t.errors)):r.push(t)}}}if(r)throw new f(r)}},t.prototype.add=function(r){var e=r;if(!r)return t.EMPTY;switch(typeof r){case"function":e=new t(r);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof t)){var n=e;(e=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+r+" added to Subscription.")}var o=e._parentOrParents;if(null===o)e._parentOrParents=this;else if(o instanceof t){if(o===this)return e;e._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return e;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[e]:i.push(e),e},t.prototype.remove=function(t){var r=this._subscriptions;if(r){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function h(t){return t.reduce((function(t,r){return t.concat(r instanceof f?r.errors:r)}),[])}var y=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),b=function(t){function r(e,n,o){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=c;break;case 1:if(!e){i.destination=c;break}if("object"==typeof e){e instanceof r?(i.syncErrorThrowable=e.syncErrorThrowable,i.destination=e,e.add(i)):(i.syncErrorThrowable=!0,i.destination=new d(i,e));break}default:i.syncErrorThrowable=!0,i.destination=new d(i,e,n,o)}return i}return n(r,t),r.prototype[y]=function(){return this},r.create=function(t,e,n){var o=new r(t,e,n);return o.syncErrorThrowable=!1,o},r.prototype.next=function(t){this.isStopped||this._next(t)},r.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},r.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},r.prototype._next=function(t){this.destination.next(t)},r.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},r.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},r.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},r}(l),d=function(t){function r(r,e,n,i){var s,u=t.call(this)||this;u._parentSubscriber=r;var a=u;return o(e)?s=e:e&&(s=e.next,n=e.error,i=e.complete,e!==c&&(o((a=Object.create(e)).unsubscribe)&&u.add(a.unsubscribe.bind(a)),a.unsubscribe=u.unsubscribe.bind(u))),u._context=a,u._next=s,u._error=n,u._complete=i,u}return n(r,t),r.prototype.next=function(t){if(!this.isStopped&&this._next){var r=this._parentSubscriber;s.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?this.__tryOrSetError(r,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},r.prototype.error=function(t){if(!this.isStopped){var r=this._parentSubscriber,e=s.useDeprecatedSynchronousErrorHandling;if(this._error)e&&r.syncErrorThrowable?(this.__tryOrSetError(r,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(r.syncErrorThrowable)e?(r.syncErrorValue=t,r.syncErrorThrown=!0):u(t),this.unsubscribe();else{if(this.unsubscribe(),e)throw t;u(t)}}},r.prototype.complete=function(){var t=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var e=function(){return t._complete.call(t._context)};s.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?(this.__tryOrSetError(r,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}},r.prototype.__tryOrUnsub=function(t,r){try{t.call(this._context,r)}catch(t){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw t;u(t)}},r.prototype.__tryOrSetError=function(t,r,e){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,e)}catch(r){return s.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(u(r),!0)}return!1},r.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},r}(b),v=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function m(t){return t}function _(t){return 0===t.length?m:1===t.length?t[0]:function(r){return t.reduce((function(t,r){return r(t)}),r)}}var w=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(r){var e=new t;return e.source=this,e.operator=r,e},t.prototype.subscribe=function(t,r,e){var n=this.operator,o=function(t,r,e){if(t){if(t instanceof b)return t;if(t[y])return t[y]()}return t||r||e?new b(t,r,e):new b(c)}(t,r,e);if(n?o.add(n.call(o,this.source)):o.add(this.source||s.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),s.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){s.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=r),function(t){for(;t;){var r=t,e=r.closed,n=r.destination,o=r.isStopped;if(e||o)return!1;t=n&&n instanceof b?n:null}return!0}(t)?t.error(r):console.warn(r)}},t.prototype.forEach=function(t,r){var e=this;return new(r=g(r))((function(r,n){var o;o=e.subscribe((function(r){try{t(r)}catch(t){n(t),o&&o.unsubscribe()}}),n,r)}))},t.prototype._subscribe=function(t){var r=this.source;return r&&r.subscribe(t)},t.prototype[v]=function(){return this},t.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return 0===t.length?this:_(t)(this)},t.prototype.toPromise=function(t){var r=this;return new(t=g(t))((function(t,e){var n;r.subscribe((function(t){return n=t}),(function(t){return e(t)}),(function(){return t(n)}))}))},t.create=function(r){return new t(r)},t}();function g(t){if(t||(t=s.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function E(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var S,T=E(),x=function(t){function r(r){var e=t.call(this)||this;return e.parent=r,e}return n(r,t),r.prototype._next=function(t){this.parent.notifyNext(t)},r.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},r.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},r}(b),O=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return n(r,t),r.prototype.notifyNext=function(t){this.destination.next(t)},r.prototype.notifyError=function(t){this.destination.error(t)},r.prototype.notifyComplete=function(){this.destination.complete()},r}(b),j=function(){function t(t){this.selector=t}return t.prototype.call=function(t,r){return r.subscribe(new P(t,this.selector,this.caught))},t}(),P=function(t){function r(r,e,n){var o=t.call(this,r)||this;return o.selector=e,o.caught=n,o}return n(r,t),r.prototype.error=function(r){if(!this.isStopped){var e=void 0;try{e=this.selector(r,this.caught)}catch(r){return void t.prototype.error.call(this,r)}this._unsubscribeAndRecycle();var n=new x(this);this.add(n);var o=function(t,r){if(!r.closed)return t instanceof w?t.subscribe(r):function(t){if(t&&"function"==typeof t[v])return i=t,function(t){var r=i[v]();if("function"!=typeof r.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(t)};if((o=t)&&"number"==typeof o.length&&"function"!=typeof o)return n=t,function(t){for(var r=0,e=n.length;r<e&&!t.closed;r++)t.next(n[r]);t.complete()};if(function(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}(t))return e=t,function(t){return e.then((function(r){t.closed||(t.next(r),t.complete())}),(function(r){return t.error(r)})).then(null,u),t};if(t&&"function"==typeof t[T])return r=t,function(t){for(var e=r[T]();;){var n=void 0;try{n=e.next()}catch(r){return t.error(r),t}if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}return"function"==typeof e.return&&t.add((function(){e.return&&e.return()})),t};var r,e,n,o,i,s=p(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+s+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}(t)(r)}(e,n);o!==n&&this.add(o)}},r}(O),H=function(){function t(t,r){this.project=t,this.thisArg=r}return t.prototype.call=function(t,r){return r.subscribe(new A(t,this.project,this.thisArg))},t}(),A=function(t){function r(r,e,n){var o=t.call(this,r)||this;return o.project=e,o.count=0,o.thisArg=n||o,o}return n(r,t),r.prototype._next=function(t){var r;try{r=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(r)},r}(b);!function(t){t[t.UploadProgress=0]="UploadProgress",t[t.DownProgress=1]="DownProgress",t[t.Timeout=2]="Timeout",t[t.Response=3]="Response"}(S||(S={}));var L=function(t,r){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var n,o,i=e.call(t),s=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return s},D=function(t,r){for(var e=0,n=r.length,o=t.length;e<n;e++,o++)t[o]=r[e];return t},R=function(){function t(){}return t.prototype.isEmpty=function(t){return t instanceof Map?t.keys().next().done:t instanceof Object?0===Object.values(t).length:null==t},t.prototype.isFormData=function(t){return typeof FormData&&t instanceof FormData},t.prototype.isBlob=function(t){return"undefined"!=typeof Blob&&t instanceof Blob},t.prototype.isArrayBuffer=function(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer},t.prototype.detectContentType=function(t){return null===t||this.isFormData(t)||this.isBlob(t)||this.isArrayBuffer(t)?null:"string"==typeof t?"text/plain":"object"==typeof t||"number"==typeof t||Array.isArray(t)?"application/json":null},t.prototype.serializeParams=function(t){var r,e,n=[];if(t instanceof Map)try{for(var o=function(t){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}(t.entries()),i=o.next();!i.done;i=o.next()){var s=L(i.value,2),u=s[0],c=s[1];n.push(u+"="+c)}}catch(t){r={error:t}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(r)throw r.error}}else Object.keys(t).forEach((function(r,e,o){n.push(e+"="+t[e])}));return n.join("&")},t.prototype.serializeBody=function(t){return null==t?null:this.isArrayBuffer(t)||this.isBlob(t)||this.isFormData(t)||"string"==typeof t?t:"object"==typeof t||"boolean"==typeof t||Array.isArray(t)?JSON.stringify(t):t.toString()},t.prototype.handlerResponseHandler=function(t,r){var e=r.responseType&&"text"!==r.responseType?r.response:r.responseText;"json"===r.responseType&&"string"==typeof e&&(e=JSON.parse(e));var n=r.getAllResponseHeaders();return{type:S.Response,data:e,headers:this.serializeResponseHeader(n),status:r.status,statusText:r.statusText||"OK"}},t.prototype.serializeResponseHeader=function(t){var r=t.split("\r\n"),e={};return r.forEach((function(t){var r=/(.+):(.+)/;if(r.test(t)){var n=t.match(r);e[n[1]]=n[2].trim()}})),e},t.prototype.handlerOption=function(t,r){r.headers=r.headers||{},r.body=r.body||{},r.params=r.params||{};var e=t.interceptors.getConfig();return(null==e?void 0:e.length)&&e.forEach((function(t){t(r)})),r},t.prototype.observableHandler=function(t,r){var e=r.getResList(),n=r.getErrorList(),o=[],i=[];return(null==n?void 0:n.length)&&(o=n.map((function(t){return r=t,function(t){var e=new j(r),n=t.lift(e);return e.caught=n};var r}))),(null==e?void 0:e.length)&&(i=e.map((function(t){return r=t,function(t){if("function"!=typeof r)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return t.lift(new H(r,undefined))};var r}))),t.pipe.apply(t,D(D([],L(i)),L(o)))},t.prototype.forEach=function(t,r){Object.keys(t).forEach((function(e,n){r.call(null,t[e],e)}))},t.prototype.handlerContentType=function(t,r,e){this.isEmpty(r)||(r&&r.Accept||t.setRequestHeader("Accept","application/json, text/plain, */*"),Object.keys(r||{}).forEach((function(e,n,o){t.setRequestHeader(e,r[e])})));var n=r&&r["Content-Type"];if(n)n.includes("application/x-www-form-urlencoded")&&t.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8");else{var o=this.detectContentType(e);o&&t.setRequestHeader("Content-Type",o)}},t}(),C=function(){function t(){this.configList=[],this.resList=[],this.errList=[]}return t.prototype.reqInterceptor=function(t){this.configList.unshift(t)},t.prototype.resInterceptor=function(t){this.resList.push(t.next),this.errList.push(t.err)},t.prototype.getConfig=function(){return this.configList},t.prototype.getResList=function(){return this.resList},t.prototype.getErrorList=function(){this.errList},t}(),q=function(t,r){this.type=-1,this.loaded=0,this.total=0;var e=t.loaded,n=t.total;this.type=r,this.loaded=e,this.total=n},k=function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])})(r,e)};return function(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),B=function(){return(B=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++)for(var o in r=arguments[e])Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);return t}).apply(this,arguments)};const U=new(function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.interceptors=new C,r}return k(r,t),r.prototype.request=function(t){var r=this,e=this.handlerOption(this,t),n=e.params,o=e.headers,i=e.body,s=e.method,u=e.url,c=new XMLHttpRequest;this.isEmpty(n)||(t.url=t.url+"?"+this.serializeParams(n));var a=this.serializeBody(i);c.open(s,u),this.handlerContentType(c,o,i),c.responseType="string"==typeof t.responseType&&t.responseType?t.responseType.toLowerCase():"json",c.withCredentials=!!t.withCredentials;var p=new w((function(e){var n=function(t){var n=r.handlerResponseHandler(t,c);n.status>=200&&n.status<300?e.next(n):e.error(n)},o=function(t,r){e.next(new q(t,r))},i=function(t){return o(t,S.UploadProgress)},s=function(t){return o(t,S.DownProgress)},u=function(t){o(t,S.Timeout),e.complete()};return t.timeout&&(c.timeout=t.timeout,c.addEventListener("timeout",u)),t.progress&&(c.upload.addEventListener("progress",i),c.addEventListener("progress",s)),c.addEventListener("load",n),c.send(a),function(){c.readyState!==c.DONE&&c.abort(),c.removeEventListener("load",n),c.upload.removeEventListener("progress",i),c.removeEventListener("progress",s),c.removeEventListener("timeout",u)}}));return this.observableHandler(p,this.interceptors)},r.prototype.get=function(t,r){var e=B({url:t,method:"GET"},r);return this.request(e)},r.prototype.post=function(t,r){var e=B({url:t,method:"POST"},r);return this.request(e)},r.prototype.put=function(t,r){var e=B({method:"PUT",url:t},r);return this.request(e)},r.prototype.delete=function(t,r){var e=B({method:"DELETE",url:t},r);return this.request(e)},r.prototype.options=function(t,r){var e=B({url:t,method:"OPTIONS"},r);return this.request(e)},r.prototype.patch=function(t,r){var e=B({url:t,method:"PATCH"},r);return this.request(e)},r}(R));return r})()}));